<!DOCTYPE html>
<html>
<head>

  <!-- Responsive -->
  <meta charset="utf-8">
  <meta name="viewport" 
        content="width=device-width,
                 initial-scale=1">
  <meta http-equiv="X-UA-Compatible"
        content="ie=edge">

  <!-- Title -->
  <title>PWA Tutorial</title>

  <!-- Meta Tags required for
       Progressive Web App -->
  <meta name=
  "apple-mobile-web-app-status-bar" 
        content="#aa7700">
  <meta name="theme-color"
        content="black">

  <!-- Manifest File link -->
  <link rel="manifest"
        href="manifest.json">
</head>

<body>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
  }

  div {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh; /* Esto es lo que faltaba */
    flex-direction: column; /* Para que la imagen y el texto est√©n uno debajo del otro */
  }

  h1 {
    color: rgb(17, 122, 192);
    margin-top: 20px;
  }
</style>

<div>
  <img src="logo.png" alt="Logo">
  <h1>Dienst</h1>
</div>




<script>
  function isInStandaloneMode() {
    const standalone =
      window.matchMedia('(display-mode: standalone)').matches ||
      window.navigator.standalone === true;

    console.log('¬øEst√° en modo standalone?', standalone);
    return standalone;
  }

  window.addEventListener('load', () => {
    console.log('P√°gina cargada');
    
    if (isInStandaloneMode()) {
      console.log('üåê Modo standalone detectado. Redirigiendo...');
      window.location.replace('https://dienstpreos.com.ar/policiabsas-mobile');
      return;
    } else {
      console.log('üö´ No es modo standalone. No redirijo.');
    }

    registerSW();
  });

  async function registerSW() {
    if ('serviceWorker' in navigator) {
      try {
        await navigator.serviceWorker.register('serviceworker.js');
        console.log('‚úÖ Service Worker registrado');
      } catch (e) {
        console.log('‚ùå SW registration failed', e);
      }
    }
  }
</script>

</body>
</html>